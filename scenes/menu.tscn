[gd_scene load_steps=8 format=3 uid="uid://8oxka15kc5ky"]

[ext_resource type="Script" path="res://scripts/GameStateHandler.gd" id="1_xulbl"]
[ext_resource type="Texture2D" uid="uid://cxhijhhbftmvl" path="res://art/dungeon background 7.png" id="2_xw8ov"]
[ext_resource type="PackedScene" uid="uid://660rptxlg7dj" path="res://scenes/levels/level 2.tscn" id="3_lb8x6"]
[ext_resource type="PackedScene" uid="uid://yf3u5c54fd5d" path="res://scenes/levels/level 1.tscn" id="3_qu3bv"]
[ext_resource type="PackedScene" uid="uid://dma3vigfd4m8s" path="res://scenes/game_won.tscn" id="4_7x5wm"]
[ext_resource type="PackedScene" uid="uid://dj2hwvskxf4l8" path="res://scenes/game_over.tscn" id="5_c7k5m"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jaqta"]
bg_color = Color(1, 0.843137, 0.52549, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[node name="Game" type="Control" node_paths=PackedStringArray("menu", "music_player")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_top = 4.0
offset_bottom = 4.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_xulbl")
menu = NodePath("MenuBG")
levels = Array[PackedScene]([ExtResource("3_qu3bv"), ExtResource("3_lb8x6")])
won_screen = ExtResource("4_7x5wm")
lost_screen = ExtResource("5_c7k5m")
music_player = NodePath("AudioStreamPlayer")

[node name="MenuBG" type="TextureRect" parent="."]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
texture = ExtResource("2_xw8ov")
stretch_mode = 6

[node name="VBoxContainer" type="VBoxContainer" parent="MenuBG"]
layout_mode = 1
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 61.0
offset_top = -158.0
offset_right = 339.0
offset_bottom = -35.0
grow_vertical = 0

[node name="Start" type="Button" parent="MenuBG/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/icon_pressed_color = Color(0, 0, 0, 1)
theme_override_styles/normal = SubResource("StyleBoxFlat_jaqta")
text = "Play"

[node name="Options" type="Button" parent="MenuBG/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/icon_pressed_color = Color(0, 0, 0, 1)
theme_override_styles/normal = SubResource("StyleBoxFlat_jaqta")
text = "Options"

[node name="Credits" type="Button" parent="MenuBG/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/icon_pressed_color = Color(0, 0, 0, 1)
theme_override_styles/normal = SubResource("StyleBoxFlat_jaqta")
text = "Credits"

[node name="Quit" type="Button" parent="MenuBG/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/icon_pressed_color = Color(0, 0, 0, 1)
theme_override_styles/normal = SubResource("StyleBoxFlat_jaqta")
text = "Quit"

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
volume_db = -8.134

[connection signal="pressed" from="MenuBG/VBoxContainer/Start" to="." method="_on_start_pressed"]
[connection signal="pressed" from="MenuBG/VBoxContainer/Options" to="." method="_on_options_pressed"]
[connection signal="pressed" from="MenuBG/VBoxContainer/Credits" to="." method="_on_credits_pressed"]
[connection signal="pressed" from="MenuBG/VBoxContainer/Quit" to="." method="_on_quit_pressed"]
